#+TITLE: gegede - General Geometry Description

* What is this?

The GGD is a general system to generate a description of a [[http://en.wikipedia.org/wiki/Constructive_solid_geometry][constructive solid geometry]] specifically as used by [[http://geant4.web.cern.ch/geant4/G4UsersDocuments/UsersGuides/ForApplicationDeveloper/html/Detector/geometry.html][Geant4]] or [[http://root.cern.ch/root/html534/guides/users-guide/Geometry.html][ROOT]] applications are as represented in [[http://cern.ch/gdml][GDML]] files.

* How do I use it?

GGD is designed along layers which are exposed to the user to allow different levels of interface.

#+BEGIN_SRC dot :cmd dot :cmdline -Tpng :file highlevel.png :exports results :post (org-redisplay-inline-images)
  # note: make the the following diagram
  # github org parser exposes this but shouldn't
  digraph "highlevel" {
    rankdir=LR;
    params -> builders;
    builders -> objects;
    objects -> file;
  }
#+END_SRC

#+RESULTS:
[[file:highlevel.png]]

- params :: high level, human-centric configuration mechanism
- builders :: structured, procedural geometry constructor code 
- objects :: the in-memory representation of the final geometry
- file :: conversion to formats suitable to exchange the data with other applications.

At the highest level is a simple configuration language for end-user customization of parameters consumed by the next layer, the builders.  The builders are instances of classes which are responsible for constructing some portion of an overall geometry and may manage some number of other (sub)builders to handle specific construction details.  The geometry is constructed by building an in-memory representation of general geometry objects.

* Tutorial

- [[./doc/configuration.org][Configuration]]
- [[./doc/builders.org][Builders]]
- [[./doc/construction.org][Construction]]
- [[./doc/exporting.org][Exporting]]

* Reference

T.B.D.

* Development

To set up for building and testing "in source":

#+BEGIN_EXAMPLE
  virtualenv venv
  source venv/bin/activate
  python setup.py develop
#+END_EXAMPLE

The tests can be either run manually one at a time via:

#+BEGIN_EXAMPLE
  python tests/test_schema.py
#+END_EXAMPLE

Or collectively with nose:

#+BEGIN_EXAMPLE
  nosetests
#+END_EXAMPLE
